{"version":3,"sources":["./src/app/members/dashboard/dashboard.page.html","./src/app/members/dashboard/dashboard.module.ts","./src/app/members/dashboard/dashboard.page.scss","./src/app/members/dashboard/dashboard.page.ts"],"names":[],"mappings":"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","file":"dashboard-dashboard-module-es2015.js","sourcesContent":["module.exports = \"<ion-header>\\n  <ion-toolbar>\\n    <ion-buttons slot = \\\"start\\\">\\n      <ion-button (click) = \\\"logout()\\\">\\n        <ion-icon slot =\\\"icon-only\\\" name =\\\"log-out\\\">\\n\\n        </ion-icon>\\n      </ion-button>\\n    </ion-buttons>\\n    <ion-title>dashboard</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<form [formGroup]=\\\"directionForm\\\" (ngSubmit)=\\\"calculateAndDisplayRoute(directionForm.value)\\\">\\n  <ion-item>\\n    <ion-label position=\\\"floating\\\">Destination</ion-label>\\n    <ion-input formControlName=\\\"destination\\\"></ion-input>\\n  </ion-item>\\n  <ion-button expand=\\\"full\\\" type=\\\"submit\\\" [disabled]=\\\"!directionForm.valid\\\">Get Direction</ion-button>\\n</form>\\n\\n<ion-content>\\n  <div #mapElement class=\\\"map\\\"></div>  \\n</ion-content>\\n\\n\"","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\nimport { Geolocation } from '@ionic-native/geolocation/ngx';\nimport { IonicModule } from '@ionic/angular';\n\nimport { DashboardPage } from './dashboard.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: DashboardPage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    RouterModule.forChild(routes),\n      ReactiveFormsModule\n  ],\n  declarations: [DashboardPage],\n  providers: [Geolocation]\n})\nexport class DashboardPageModule {}\n","module.exports = \".map {\\n  position: relative;\\n  height: 100%;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbWVtYmVycy9kYXNoYm9hcmQvQzpcXFVzZXJzXFxhbmFzIHppcVxcRGVza3RvcFxcVGVhbVxcVGVhbVdvcmstbWFzdGVyL3NyY1xcYXBwXFxtZW1iZXJzXFxkYXNoYm9hcmRcXGRhc2hib2FyZC5wYWdlLnNjc3MiLCJzcmMvYXBwL21lbWJlcnMvZGFzaGJvYXJkL2Rhc2hib2FyZC5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDSSxrQkFBQTtFQUNBLFlBQUE7QUNDSiIsImZpbGUiOiJzcmMvYXBwL21lbWJlcnMvZGFzaGJvYXJkL2Rhc2hib2FyZC5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIubWFwe1xuICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgICBoZWlnaHQ6IDEwMCU7XG4gIH0iLCIubWFwIHtcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xuICBoZWlnaHQ6IDEwMCU7XG59Il19 */\"","//import { Component, OnInit } from '@angular/core';\nimport {AfterViewInit, Component, ElementRef, OnInit, ViewChild,OnDestroy} from '@angular/core';\nimport {FormBuilder, FormGroup, Validators} from '@angular/forms';\nimport { GeoService } from '../../geo.service'\n\nimport { Geolocation } from '@ionic-native/geolocation/ngx';\ndeclare var google;\n\n@Component({\n  selector: 'app-dashboard',\n  templateUrl: './dashboard.page.html',\n  styleUrls: ['./dashboard.page.scss'],\n})\nexport class DashboardPage implements OnInit, AfterViewInit, OnDestroy {\n\n  currentLocation: any = {\n    lat: 0,\n    lng: 0\n  };\n  markers: any;\n  subscription: any;\n\n \n  @ViewChild('mapElement', { static: false }) mapNativeElement: ElementRef;\n  directionsService = new google.maps.DirectionsService;\n  directionsDisplay = new google.maps.DirectionsRenderer;\n  directionForm: FormGroup;\n  map ;\n  constructor(\n     private geolocation: Geolocation, \n    private fb: FormBuilder , private geo: GeoService) {\n    this.createDirectionForm();    \n  }\n\n  ngOnInit() {\n    this.getUserLocation()\n    this.subscription = this.geo.hits\n        .subscribe(hits => this.markers = hits)\n  }\n  ngOnDestroy() {\n    this.subscription.unsubscribe()\n  }\n  private getUserLocation() {\n    /// locate the user\n    if (navigator.geolocation) {\n       navigator.geolocation.getCurrentPosition(position => {\n        this.currentLocation.lat = position.coords.latitude;\n        this.currentLocation.lng = position.coords.longitude;\n \n \n        this.geo.getLocations(100, [this.currentLocation.lat, this.currentLocation.lng])\n      });\n    }\n  }\n  createDirectionForm() {\n    this.directionForm = this.fb.group({\n      destination: ['', Validators.required]\n    });\n  }\n\n  \n\n  ngAfterViewInit(): void {\n    this.geolocation.getCurrentPosition().then((resp) => {\n      this.currentLocation.lat = resp.coords.latitude;\n      this.currentLocation.lng = resp.coords.longitude;\n\n      this.map = new google.maps.Map(this.mapNativeElement.nativeElement, {\n        center: {lat: this.currentLocation.lat, lng: this.currentLocation.lng },\n        zoom: 15\n      });\n      this.directionsDisplay.setMap(this.map);      \n      const pos = {\n        lat: this.currentLocation.lat,\n        lng: this.currentLocation.lng\n      };\n\n      const icon = {\n        url: 'assets/icon/user.png', // image url\n        scaledSize: new google.maps.Size(50, 50), // scaled size\n      };\n      const marker = new google.maps.Marker({\n        position: pos,\n        map: this.map,\n        title: 'Hello World!',\n        icon: icon\n      });\n\n    }).catch((error) => {\n      console.log('Error getting location', error);\n    });\n\n  }\n\n\n  calculateAndDisplayRoute(formValues) {\n    //const infoWindow = new google.maps.InfoWindow;\n    \n    const that = this;\n    this.directionsService.route({\n      origin: this.currentLocation,\n      destination: formValues.destination,\n      travelMode: 'DRIVING'\n    }, (response, status) => {\n      if (status === 'OK') {\n        that.directionsDisplay.setDirections(response);\n      } else {\n        window.alert('Directions request failed due to ' + status);\n      }\n    });\n\n    const icon = {\n      url: 'assets/icon/user.png', // image url\n      scaledSize: new google.maps.Size(50, 50), // scaled size\n    };\n    console.log(\"i'm befor the marker\");\n    const marker = new google.maps.Marker({\n      position: formValues.destination,\n      map: this.map,\n      title: 'Hello World!',\n      icon: icon\n    });\n\n    const contentString = '<div id=\"content\">' +\n          '<div id=\"siteNotice\">' +\n          '</div>' +\n          '<h1 id=\"firstHeading\" class=\"firstHeading\">Ramallah</h1>' +\n          '<div id=\"bodyContent\">' +\n          '<img src=\"assets/icon/user.png\" width=\"200\">' +\n          '<p><b>Uluru</b>, also referred to as '+\n          'Heritage Site.</p>' +\n          '<p>Attribution: Uluru, <a href=\"https://en.wikipedia.org/w/index.php?title=Uluru&oldid=297882194\">' +\n          'https://en.wikipedia.org/w/index.php?title=Uluru</a> ' +\n          '(last visited June 22, 2009).</p>' +\n          '</div>' +\n          '</div>';\n      console.log(contentString);\n      const infowindow = new google.maps.InfoWindow({\n        content: contentString,\n        maxWidth: 400\n      });\n      marker.addListener('click', function() {\n        infowindow.open(this.map, marker);\n      });\n\n  }\n\n}\n"],"sourceRoot":""}