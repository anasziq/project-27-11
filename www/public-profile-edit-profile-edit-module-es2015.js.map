{"version":3,"sources":["./src/app/public/profile-edit/profile-edit.page.html","./src/app/public/profile-edit/profile-edit.module.ts","./src/app/public/profile-edit/profile-edit.page.scss","./src/app/public/profile-edit/profile-edit.page.ts"],"names":[],"mappings":"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","file":"public-profile-edit-profile-edit-module-es2015.js","sourcesContent":["module.exports = \"<!-- <ion-content padding>\\n  <ion-card-header>\\n    <ion-card-title>Choose Images to Upload</ion-card-title>\\n  </ion-card-header>\\n  <ion-card-content>\\n    <div class=\\\"fileUpload btn btn-primary\\\">\\n      <span>Upload</span>\\n      <input\\n        id=\\\"uploadBtn\\\"\\n        type=\\\"file\\\"\\n        class=\\\"upload\\\"\\n        (change)=\\\"uploadFile($event.target.files)\\\"\\n      />\\n    </div>\\n  </ion-card-content>\\n</ion-content> -->\\n<ion-header>\\n  <ion-toolbar>\\n    <ion-title>\\n      Ionic 4 Crop Upload\\n    </ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content padding>\\n  <ion-card>\\n    <img *ngIf=\\\"!fileUrl\\\" src=\\\"assets/no-image.jpeg\\\"/>\\n    <img *ngIf=\\\"fileUrl\\\" src=\\\"{{fileUrl}}\\\"/>\\n    <div> {{fileUrl}} </div>\\n    <ion-card-content>\\n      <ion-button color=\\\"medium\\\" size=\\\"large\\\" (click)=\\\"cropUpload()\\\">\\n        <ion-icon slot=\\\"icon-only\\\" name=\\\"camera\\\"></ion-icon>\\n      </ion-button>\\n    </ion-card-content>\\n  </ion-card>\\n</ion-content>\\n\\n\\n<ion-content padding>\\n      <form [formGroup]=\\\"profileForm\\\" (ngSubmit)=\\\"save(profileForm.value)\\\">\\n        <ion-list margin-bottom padding-bottom>\\n        \\n          <section text-center class=\\\"profile-picture\\\">\\n            <!-- <app-mycomponent [url]= 'image'> </app-mycomponent> -->\\n            <img  [src]=\\\"fileUrl\\\" class=\\\"profile-picture__image\\\" width=\\\"100px\\\" height=\\\"100px\\\" alt=\\\"Profile Picture\\\">\\n         \\n          </section>\\n          <ion-item>\\n            <ion-label>First name</ion-label>\\n            <ion-input type=\\\"text\\\" formControlName=\\\"firstName\\\"></ion-input>\\n          </ion-item>\\n          <ion-item>\\n            <ion-label>Last name</ion-label>\\n            <ion-input type=\\\"text\\\" formControlName=\\\"lastName\\\"></ion-input>\\n          </ion-item>\\n          <ion-item>\\n            <ion-label>Password</ion-label>\\n            <ion-input type=\\\"text\\\" formControlName=\\\"password\\\"></ion-input>\\n          </ion-item>\\n          <button ion-button block type=\\\"submit\\\">Save</button>\\n          <button ion-button block (click)=\\\"backToUser()\\\" >Back</button>\\n        </ion-list>\\n      </form>\\n      <div>image URL IS {{image}}</div>\\n    </ion-content>\\n    \"","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule,ReactiveFormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { ProfileEditPage } from './profile-edit.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: ProfileEditPage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    ReactiveFormsModule,\n    IonicModule,\n    RouterModule.forChild(routes)\n  ],\n  declarations: [ProfileEditPage]\n})\nexport class ProfileEditPageModule {}\n","module.exports = \"page-home .profile-picture {\\n  position: relative;\\n}\\npage-home .Background-picture__icon {\\n  font-size: 3rem;\\n  text-align: right;\\n}\\npage-home .profile-picture__icon {\\n  border-radius: 50%;\\n  font-size: 2rem;\\n  position: absolute;\\n  left: 55%;\\n  width: 32px;\\n  height: 32px;\\n  padding-top: 3px;\\n}\\npage-home .profile-picture__image {\\n  border-radius: 50%;\\n  height: 128px;\\n  width: 128px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcHVibGljL3Byb2ZpbGUtZWRpdC9DOlxcVXNlcnNcXGFuYXMgemlxXFxEZXNrdG9wXFxUZWFtXFxUZWFtV29yay1tYXN0ZXIvc3JjXFxhcHBcXHB1YmxpY1xccHJvZmlsZS1lZGl0XFxwcm9maWxlLWVkaXQucGFnZS5zY3NzIiwic3JjL2FwcC9wdWJsaWMvcHJvZmlsZS1lZGl0L3Byb2ZpbGUtZWRpdC5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQ0k7RUFDRSxrQkFBQTtBQ0FOO0FERU07RUFDRSxlQUFBO0VBQ0EsaUJBQUE7QUNBUjtBREdNO0VBQ0Usa0JBQUE7RUFFQSxlQUFBO0VBRUEsa0JBQUE7RUFDQSxTQUFBO0VBQ0EsV0FBQTtFQUNBLFlBQUE7RUFDQSxnQkFBQTtBQ0hSO0FETU07RUFDRSxrQkFBQTtFQUNBLGFBQUE7RUFDQSxZQUFBO0FDSlIiLCJmaWxlIjoic3JjL2FwcC9wdWJsaWMvcHJvZmlsZS1lZGl0L3Byb2ZpbGUtZWRpdC5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyJwYWdlLWhvbWUge1xyXG4gICAgLnByb2ZpbGUtcGljdHVyZSB7XHJcbiAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcclxuICAgIH1cclxuICAgICAgLkJhY2tncm91bmQtcGljdHVyZV9faWNvbntcclxuICAgICAgICBmb250LXNpemU6IDNyZW07XHJcbiAgICAgICAgdGV4dC1hbGlnbjogcmlnaHQ7XHJcbiAgICAgIH1cclxuICBcclxuICAgICAgLnByb2ZpbGUtcGljdHVyZV9faWNvbiB7XHJcbiAgICAgICAgYm9yZGVyLXJhZGl1czogNTAlO1xyXG4gICAgICAgIFxyXG4gICAgICAgIGZvbnQtc2l6ZTogMnJlbTtcclxuICBcclxuICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgICAgICAgbGVmdDogNTUlO1xyXG4gICAgICAgIHdpZHRoOiAzMnB4O1xyXG4gICAgICAgIGhlaWdodDogMzJweDtcclxuICAgICAgICBwYWRkaW5nLXRvcDogM3B4O1xyXG4gICAgICB9XHJcbiAgXHJcbiAgICAgIC5wcm9maWxlLXBpY3R1cmVfX2ltYWdlIHtcclxuICAgICAgICBib3JkZXItcmFkaXVzOiA1MCU7XHJcbiAgICAgICAgaGVpZ2h0OiAxMjhweDtcclxuICAgICAgICB3aWR0aDogMTI4cHg7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAiLCJwYWdlLWhvbWUgLnByb2ZpbGUtcGljdHVyZSB7XG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcbn1cbnBhZ2UtaG9tZSAuQmFja2dyb3VuZC1waWN0dXJlX19pY29uIHtcbiAgZm9udC1zaXplOiAzcmVtO1xuICB0ZXh0LWFsaWduOiByaWdodDtcbn1cbnBhZ2UtaG9tZSAucHJvZmlsZS1waWN0dXJlX19pY29uIHtcbiAgYm9yZGVyLXJhZGl1czogNTAlO1xuICBmb250LXNpemU6IDJyZW07XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgbGVmdDogNTUlO1xuICB3aWR0aDogMzJweDtcbiAgaGVpZ2h0OiAzMnB4O1xuICBwYWRkaW5nLXRvcDogM3B4O1xufVxucGFnZS1ob21lIC5wcm9maWxlLXBpY3R1cmVfX2ltYWdlIHtcbiAgYm9yZGVyLXJhZGl1czogNTAlO1xuICBoZWlnaHQ6IDEyOHB4O1xuICB3aWR0aDogMTI4cHg7XG59Il19 */\"","import { Component, OnInit, NgZone } from '@angular/core';\nimport { NavController, ActionSheetController, LoadingController } from '@ionic/angular';\nimport { FormBuilder, FormGroup } from '@angular/forms';\nimport { AngularFireDatabase } from '@angular/fire/database';\nimport { AngularFireAuth } from '@angular/fire/auth';\nimport { Router } from '@angular/router';\nimport { Camera, CameraOptions, PictureSourceType } from '@ionic-native/camera/ngx';\nimport * as firebase from 'firebase';\nimport { AngularFireStorage, AngularFireUploadTask } from '@angular/fire/storage';\nimport { AngularFirestore, AngularFirestoreCollection } from '@angular/fire/firestore';\nimport { Observable } from 'rxjs';\nimport { finalize, tap } from 'rxjs/operators';\nimport { Crop } from '@ionic-native/crop/ngx';\nimport { ImagePicker } from '@ionic-native/image-picker/ngx';\nimport { FileTransfer, FileUploadOptions, FileTransferObject } from '@ionic-native/file-transfer/ngx';\n\n\nexport interface MyData {\n  name: string;\n  filepath: string;\n  size: number;\n}\n\n@Component({\n  selector: 'app-profile-edit',\n  templateUrl: './profile-edit.page.html',\n  styleUrls: ['./profile-edit.page.scss'],\n})\nexport class ProfileEditPage implements OnInit {\n\n\n  ngOnInit() {\n    this.image = this.afAuth.auth.currentUser.photoURL;\n  }\n  profileForm: FormGroup;\n  image;\n  actionSheet: any;\n  fileUrl: any = null;\n  respData: any;\n  task: AngularFireUploadTask;\n\n  // Progress in percentage\n  percentage: Observable<number>;\n\n  // Snapshot of uploading file\n  snapshot: Observable<any>;\n\n  // Uploaded File URL\n  UploadedFileURL: Observable<string>;\n\n  //Uploaded Image List\n  images: Observable<MyData[]>;\n  private imageCollection: AngularFirestoreCollection<MyData>;\n  fileName: string;\n  fileSize: number;\n  isUploading: boolean;\n  isUploaded: boolean;\n\n\n  constructor(public navCtrl: NavController,\n    public actionSheetCtrl: ActionSheetController,\n    public loadingCtrl: LoadingController,\n    public fb: FormBuilder,\n    public camera: Camera,\n    public afDb: AngularFireDatabase,\n    public afAuth: AngularFireAuth,\n    public router: Router,\n    private storage: AngularFireStorage,\n    private database: AngularFirestore,\n    public zone: NgZone,\n    private imagePicker: ImagePicker,\n    private crop: Crop,\n    private transfer: FileTransfer\n  ) {\n    this.isUploading = false;\n    this.isUploaded = false;\n    this.imageCollection = database.collection<MyData>('UserImages');\n    this.images = this.imageCollection.valueChanges();\n\n    this.profileForm = this.fb.group({\n      firstName: '',\n      lastName: '',\n      email: '',\n      password: '',\n    });\n  }\n  // uploadFile(event: FileList) {\n  //   // The File object\n  //   const file = event.item(0);\n  //    // Validation for Images Only\n  //   if (file.type.split('/')[0] !== 'image') { \n  //    console.error('unsupported file type :( ')\n  //    return;\n  //   }\n  //    this.isUploading = true;\n  //   this.isUploaded = false;\n  //   this.fileName = file.name;\n  //   // The storage path\n  //   const path = 'UserImages/U'+this.afAuth.auth.currentUser.uid;  \n  //   // Totally optional metadata\n  //   const customMetadata = { app: 'User images for Torusim app' };\n  //   //File reference\n  //   const fileRef = this.storage.ref(path);\n  //   // The main task\n  //   this.task = this.storage.upload(path, file, { customMetadata });\n  //   // Get file progress percentage\n  //   this.percentage = this.task.percentageChanges();\n  //   this.snapshot = this.task.snapshotChanges().pipe(\n  //       finalize(() => {\n  //       // Get uploaded file storage path\n  //       this.UploadedFileURL = fileRef.getDownloadURL();\n  //       this.UploadedFileURL.subscribe(resp=>{\n  //         this.addImagetoDB({\n  //           name: file.name,\n  //           filepath: resp,\n  //           size: this.fileSize\n  //         });\n  //         this.image =  \"https://firebasestorage.googleapis.com/v0/b/graduation-project-35720.appspot.com/o/UserImages%2FU\"+this.afAuth.auth.currentUser.uid +\"?alt=media&token=cbc23518-1ca8-4358-8c72-1b836620e2f6\";          let userRef =this.afDb.database.ref('users/' + this.afAuth.auth.currentUser.uid);\n  //         userRef.update({\n  //           'imageURL':  \"https://firebasestorage.googleapis.com/v0/b/graduation-project-35720.appspot.com/o/UserImages%2FU\"+this.afAuth.auth.currentUser.uid +\"?alt=media&token=cbc23518-1ca8-4358-8c72-1b836620e2f6\"\n  //         });\n\n  //       },error=>{\n  //         console.error(error);\n  //       })\n  //     }),\n  //     tap(snap => {\n  //         this.fileSize = snap.totalBytes;\n  //     })\n  //   )\n  // }\n\n  // addImagetoDB(image: MyData) {\n  //   //Create an ID for document\n  //   const id = this.database.createId();\n\n  //   //Set document id with value in database\n  //   this.imageCollection.doc(id).set(image).then(resp => {\n  //     console.log(resp);\n  //   }).catch(error => {\n  //     console.log(\"error \" + error);\n  //   });\n  // }\n\n  backToUser() {\n    this.router.navigate([\"/tabs\"]);\n\n  }\n  save(profile) {\n    this.afAuth.authState.subscribe(user => {\n      if (user) {\n        if (profile.firstName != \"\") {\n          user.updateProfile({\n            displayName: profile.firstName + \" \" + profile.lastName,\n          })\n          if (profile.password != \"\") {\n            user.updatePassword(profile.password);\n          }\n        }\n\n      }\n    });\n\n\n  }\n\n  cropUpload() {\n    this.imagePicker.getPictures({ maximumImagesCount: 1, outputType: 0 }).then((results) => {\n      for (let i = 0; i < results.length; i++) {\n          console.log('Image URI: ' + results[i]);\n          this.crop.crop(results[i], { quality: 100 })\n            .then(\n              newImage => {\n                console.log('new image path is: ' + newImage);\n                const fileTransfer: FileTransferObject = this.transfer.create();\n                const uploadOpts: FileUploadOptions = {\n                   fileKey: 'file',\n                   fileName: newImage.substr(newImage.lastIndexOf('/') + 1)\n                };\n  \n                fileTransfer.upload(newImage, 'http://192.168.0.7:3000/api/upload', uploadOpts)\n                 .then((data) => {\n                   console.log(data);\n                   this.respData = JSON.parse(data.response);\n                   console.log(this.respData);\n                   this.fileUrl = this.respData.fileUrl;\n                 }, (err) => {\n                   console.log(err);\n                 });\n              },\n              error => console.error('Error cropping image', error)\n            );\n      }\n    }, (err) => { console.log(err); });\n  }\n\n\n}\n"],"sourceRoot":""}